---
import Section from '../Section.astro';

import { work } from '@cv';
---

<Section title='Experiencia'>
	<ul class='list'>
		{
			work.map(({ name, position, url, startDate, endDate, summary }) => {
				const startYear = new Date(startDate).getFullYear();
				const endYear = endDate ? new Date(endDate).getFullYear() : 'Actual';

				return (
					<li class='list-item'>
						<article>
							<header>
								<div>
									<h3>
										<a href={url} target='_blank' rel='noopener noreferrer'>
											{name}
										</a>
									</h3>
									<h4 class='position'>{position}</h4>
								</div>
								<time class='date'>
									{startYear} - {endYear}
								</time>
							</header>
							<footer>
								<p class='summary'>{summary}</p>
							</footer>
						</article>
					</li>
				);
			})
		}
	</ul>
</Section>

<style>
	ul {
		display: flex;
		flex-direction: column;
		gap: 2rem;
	}
	header {
		display: flex;
		justify-content: space-between;
		align-items: start;
        margin-bottom: 8px;
	}
    h3 > a {
        color: #111;
        font-weight: 500;

        &:hover {
            color: #555;
        }
    }
    h4 {
        color #222;
        font-weight: 400;
    }
    time.date {
        color: #777;
        font-size: 0.875rem;
    }

	@media (prefers-color-scheme: dark) {
		p {
			color: #var(--text-color);
		}

		time.date {
			color: var(--date-color);
		}
	}
</style>
